<!--Fee-->
<div class="card">
    <div class="card-header">
        <h3 class="mb-4">Thông tin khuyen mai</h3>
    </div>
    <div class="card-content">
        <div *ngIf="isLoaded">
            <form [formGroup]="promFormValidate" (submit)="onSave($event)" #fm #ngFrom="ngForm">
                <div >
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label>Tên loại phí</mat-label>
                            <input formControlName="name" class="py-1" matInput type="text" placeholder="Placeholder"
                                required>
                            <mat-error
                                *ngIf="promFormValidate.invalid  || (ngFrom.submitted && promFormValidate.get('name').invalid)">
                                Vui lòng nhập tên loại phí
                            </mat-error>
                        </mat-form-field>
                    </p>
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label>Choose a date</mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="fromDate">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </p>
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label>Choose a date</mat-label>
                            <input matInput [matDatepicker]="picker2" formControlName="toDate">
                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                            <mat-datepicker #picker2></mat-datepicker>
                        </mat-form-field>
                    </p>
                </div>
            </form>
            <!--Product-->
            <form *ngIf="itemType==1" [formGroup]="productFormValidate">
                <div class="mb-5 ">
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label> Discount </mat-label>
                            <input formControlName="discount" class="py-1" matInput type="number"
                                placeholder="Placeholder" required>
                            <mat-error
                                *ngIf="promFormValidate.invalid  || (ngFrom.submitted && promFormValidate.get('discount').invalid)">
                                Vui lòng nhập tên loại phí
                            </mat-error>
                        </mat-form-field>
                    </p>
                    <p>
                        
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label>Category</mat-label>
                            <mat-select  formControlName="categoryId">
                              <mat-option *ngFor="let cate of listCate" [value]="cate.id">
                                {{cate.name}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                    </p>
                </div>
            </form>
            <!--Bill-->
            <form *ngIf="itemType==2" [formGroup]="billFormValidate">
                <div class="mb-5 ">
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label> Discount </mat-label>
                            <input formControlName="discount" class="py-1" matInput type="text"
                                placeholder="Placeholder" required>
                            <mat-error
                                *ngIf="promFormValidate.invalid  || (ngFrom.submitted && promFormValidate.get('discount').invalid)">
                                Vui lòng nhập tên loại phí
                            </mat-error>
                        </mat-form-field>
                    </p>
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label>Condition Item</mat-label>
                            <input formControlName="conditionItem" class="py-1" matInput type="text"
                                placeholder="Placeholder">

                        </mat-form-field>
                    </p>
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label>Condition Amount</mat-label>
                            <input formControlName="conditionAmount" class="py-1" matInput type="text"
                                placeholder="Placeholder">

                        </mat-form-field>
                    </p>
                </div>
            </form>
            <!--Point-->
            <form *ngIf="itemType==3" [formGroup]="pointFormValidate">
                <div class="mb-5 ">
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label>Discount In</mat-label>
                            <input formControlName="discountIn" class="py-1" matInput type="text"
                                placeholder="Placeholder" required>
                            <mat-error
                                *ngIf="promFormValidate.invalid  || (ngFrom.submitted && promFormValidate.get('discount').invalid)">
                                Vui lòng nhập tên loại phí
                            </mat-error>
                        </mat-form-field>
                    </p>
                    <p>
                        <mat-form-field class="w-60" appearance="legacy">
                            <mat-label>Discount Out</mat-label>
                            <input formControlName="discountOut" class="py-1" matInput type="text"
                                placeholder="Placeholder" required>
                            <mat-error
                                *ngIf="promFormValidate.invalid  || (ngFrom.submitted && promFormValidate.get('discount').invalid)">
                                Vui lòng nhập tên loại phí
                            </mat-error>
                        </mat-form-field>
                    </p>
                </div>
            </form>

            <div>
                <button (click)="onSave($event)" class="btn btn-sm bg-blue white px-lg-4 mr-3">
                    {{ itemId ? "Luu" : "Them"}} </button>
                <button class="btn btn-sm bg-red white px-lg-4" type="button" (click)="onReset()">Huỷ</button>
            </div>
        </div>
        <p *ngIf="isLoaded &&  promotion==null && itemId" class="text-center py-5 empty"> {{message}} </p>
        <div class="py-5">
            <app-loader *ngIf="!isLoaded"></app-loader>
        </div>
    </div>
</div>